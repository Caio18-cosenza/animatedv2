import React, { useEffect } from 'react';
import { View, Text, StyleSheet, Dimensions } from 'react-native';
import { Easing, useSharedValue, withTiming } from 'react-native-reanimated';
import Svg from 'react-native-svg';

import AnimatedStroke from './AnimatedStroke';

const paths = [
  'M55.285 218C53.286 218 51.585 217.3 50.185 215.9 48.785 214.5 48.085 212.8 48.085 210.8V15.5C48.085 13.3 48.785 11.5 50.185 10.1 51.585 8.7 53.286 8 55.285 8H132.985C157.185 8 176.285 13.6 190.285 24.8 204.285 36 211.285 52.3 211.285 73.7 211.285 88.5 207.585 100.8 200.185 110.6 192.985 120.4 183.285 127.5 171.085 131.9L214.885 208.4C215.485 209.6 215.785 210.7 215.785 211.7 215.785 213.5 215.085 215 213.685 216.2 212.485 217.4 211.085 218 209.485 218H182.185C178.785 218 176.185 217.1 174.385 215.3 172.585 213.5 171.185 211.7 170.185 209.9L131.485 138.8H89.786V210.8C89.786 212.8 89.085 214.5 87.685 215.9 86.485 217.3 84.786 218 82.585 218H55.285Z',
  'M89.786 104.9H132.085C144.285 104.9 153.385 102.2 159.385 96.8 165.385 91.2 168.385 83.4 168.385 73.4 168.385 63.4 165.385 55.6 159.385 50 153.585 44.2 144.485 41.3 132.085 41.3H89.786V104.9Z',
  'M311.783 221C289.583 221 271.983 214.6 258.983 201.8 245.983 189 238.983 170.8 237.983 147.2 237.783 145.2 237.683 142.7 237.683 139.7 237.683 136.5 237.783 134 237.983 132.2 238.783 117 242.183 104 248.183 93.2 254.383 82.2 262.883 73.8 273.683 68 284.483 62 297.183 59 311.783 59 327.983 59 341.583 62.4 352.583 69.2 363.583 75.8 371.883 85.1 377.483 97.1 383.083 108.9 385.883 122.6 385.883 138.2V144.5C385.883 146.5 385.183 148.2 383.783 149.6 382.383 151 380.583 151.7 378.383 151.7H278.783C278.783 151.7 278.783 152 278.783 152.6 278.783 153.2 278.783 153.7 278.783 154.1 278.983 161.1 280.283 167.6 282.683 173.6 285.283 179.4 288.983 184.1 293.783 187.7 298.783 191.3 304.683 193.1 311.483 193.1 317.083 193.1 321.783 192.3 325.583 190.7 329.383 188.9 332.483 186.9 334.883 184.7 337.283 182.5 338.983 180.7 339.983 179.3 341.783 176.9 343.183 175.5 344.183 175.1 345.383 174.5 347.083 174.2 349.283 174.2H375.083C377.083 174.2 378.683 174.8 379.883 176 381.283 177.2 381.883 178.7 381.683 180.5 381.483 183.7 379.783 187.6 376.583 192.2 373.583 196.8 369.183 201.3 363.383 205.7 357.583 210.1 350.283 213.8 341.483 216.8 332.883 219.6 322.983 221 311.783 221Z',
  'M278.783 126.5H345.083V125.6C345.083 117.8 343.783 111 341.183 105.2 338.583 99.2 334.783 94.6 329.783 91.4 324.783 88 318.783 86.3 311.783 86.3 304.783 86.3 298.783 88 293.783 91.4 288.783 94.6 284.983 99.2 282.383 105.2 279.983 111 278.783 117.8 278.783 125.6V126.5Z',
  'M463.028 221C452.628 221 443.228 219 434.828 215 426.428 210.8 419.728 205.3 414.728 198.5 409.928 191.5 407.528 183.7 407.528 175.1 407.528 161.1 413.228 150 424.628 141.8 436.028 133.4 450.928 127.8 469.328 125L510.428 119V112.7C510.428 104.3 508.328 97.8 504.128 93.2 499.928 88.6 492.728 86.3 482.528 86.3 475.328 86.3 469.428 87.8 464.828 90.8 460.428 93.6 457.128 97.4 454.928 102.2 453.328 104.8 451.028 106.1 448.028 106.1H424.328C422.128 106.1 420.428 105.5 419.228 104.3 418.228 103.1 417.728 101.5 417.728 99.5 417.928 96.3 419.228 92.4 421.628 87.8 424.228 83.2 428.028 78.8 433.028 74.6 438.228 70.2 444.928 66.5 453.128 63.5 461.328 60.5 471.228 59 482.828 59 495.428 59 506.028 60.6 514.628 63.8 523.428 66.8 530.428 70.9 535.628 76.1 540.828 81.3 544.628 87.4 547.028 94.4 549.428 101.4 550.628 108.8 550.628 116.6V210.8C550.628 212.8 549.928 214.5 548.528 215.9 547.128 217.3 545.428 218 543.428 218H519.128C516.928 218 515.128 217.3 513.728 215.9 512.528 214.5 511.928 212.8 511.928 210.8V199.1C509.328 202.7 505.828 206.2 501.428 209.6 497.028 213 491.628 215.8 485.228 218 479.028 220 471.628 221 463.028 221Z',
  'M473.228 192.5C480.228 192.5 486.528 191 492.128 188 497.928 185 502.428 180.4 505.628 174.2 509.028 167.8 510.728 159.8 510.728 150.2V143.9L480.728 148.7C468.928 150.5 460.128 153.4 454.328 157.4 448.528 161.4 445.628 166.3 445.628 172.1 445.628 176.5 446.928 180.3 449.528 183.5 452.328 186.5 455.828 188.8 460.028 190.4 464.228 191.8 468.628 192.5 473.228 192.5Z',
  'M656.614 221C642.214 221 629.514 218.3 618.514 212.9 607.714 207.5 599.214 199.7 593.014 189.5 587.014 179.1 583.714 166.6 583.114 152 582.914 149 582.814 145.1 582.814 140.3 582.814 135.3 582.914 131.2 583.114 128 583.714 113.4 587.014 101 593.014 90.8 599.214 80.4 607.714 72.5 618.514 67.1 629.514 61.7 642.214 59 656.614 59 669.414 59 680.314 60.8 689.314 64.4 698.314 67.8 705.714 72.3 711.514 77.9 717.314 83.3 721.614 89 724.414 95 727.414 100.8 729.014 106.1 729.214 110.9 729.414 113.1 728.714 114.9 727.114 116.3 725.714 117.5 724.014 118.1 722.014 118.1H695.614C693.614 118.1 692.014 117.6 690.814 116.6 689.814 115.6 688.814 114.1 687.814 112.1 684.814 104.1 680.814 98.5 675.814 95.3 671.014 91.9 664.814 90.2 657.214 90.2 647.214 90.2 639.214 93.4 633.214 99.8 627.414 106 624.314 115.9 623.914 129.5 623.514 137.1 623.514 144.1 623.914 150.5 624.314 164.3 627.414 174.3 633.214 180.5 639.214 186.7 647.214 189.8 657.214 189.8 665.014 189.8 671.314 188.2 676.114 185 680.914 181.6 684.814 175.9 687.814 167.9 688.814 165.9 689.814 164.4 690.814 163.4 692.014 162.4 693.614 161.9 695.614 161.9H722.014C724.014 161.9 725.714 162.6 727.114 164 728.714 165.2 729.414 166.9 729.214 169.1 729.014 172.7 728.014 176.8 726.214 181.4 724.614 185.8 721.914 190.4 718.114 195.2 714.514 199.8 709.914 204.1 704.314 208.1 698.714 211.9 691.914 215 683.914 217.4 676.114 219.8 667.014 221 656.614 221Z',
  'M831.001 218C819.001 218 808.901 215.9 800.701 211.7 792.501 207.5 786.401 201.3 782.401 193.1 778.401 184.7 776.401 174.3 776.401 161.9V93.8H752.701C750.701 93.8 749.001 93.1 747.601 91.7 746.201 90.3 745.501 88.5 745.501 86.3V69.2C745.501 67.2 746.201 65.5 747.601 64.1 749.001 62.7 750.701 62 752.701 62H776.401V12.2C776.401 10.2 777.001 8.5 778.201 7.1 779.601 5.7 781.401 5 783.601 5H807.901C809.901 5 811.601 5.7 813.001 7.1 814.401 8.5 815.101 10.2 815.101 12.2V62H852.601C854.601 62 856.301 62.7 857.701 64.1 859.101 65.5 859.801 67.2 859.801 69.2V86.3C859.801 88.5 859.101 90.3 857.701 91.7 856.301 93.1 854.601 93.8 852.601 93.8H815.101V158.9C815.101 167.1 816.501 173.5 819.301 178.1 822.301 182.7 827.401 185 834.601 185H855.301C857.301 185 859.001 185.7 860.401 187.1 861.801 188.5 862.501 190.2 862.501 192.2V210.8C862.501 212.8 861.801 214.5 860.401 215.9 859.001 217.3 857.301 218 855.301 218H831.001Z',
  'M12.805 574C10.805 574 9.105 573.3 7.705 571.9 6.305 570.5 5.605 568.8 5.605 566.8V371.5C5.605 369.3 6.305 367.5 7.705 366.1 9.105 364.7 10.805 364 12.805 364H35.905C38.705 364 40.705 364.7 41.905 366.1 43.305 367.3 44.205 368.2 44.605 368.8L131.005 503.2V371.5C131.005 369.3 131.605 367.5 132.805 366.1 134.205 364.7 136.005 364 138.205 364H163.405C165.605 364 167.405 364.7 168.805 366.1 170.205 367.5 170.905 369.3 170.905 371.5V566.5C170.905 568.7 170.205 570.5 168.805 571.9 167.405 573.3 165.705 574 163.705 574H140.305C137.505 574 135.505 573.3 134.305 571.9 133.105 570.5 132.205 569.6 131.605 569.2L45.505 437.8V566.8C45.505 568.8 44.805 570.5 43.405 571.9 42.005 573.3 40.205 574 38.005 574H12.805Z',
  'M259.414 577C249.014 577 239.614 575 231.214 571 222.814 566.8 216.114 561.3 211.114 554.5 206.314 547.5 203.914 539.7 203.914 531.1 203.914 517.1 209.614 506 221.014 497.8 232.414 489.4 247.314 483.8 265.714 481L306.814 475V468.7C306.814 460.3 304.714 453.8 300.514 449.2 296.314 444.6 289.114 442.3 278.914 442.3 271.714 442.3 265.814 443.8 261.214 446.8 256.814 449.6 253.514 453.4 251.314 458.2 249.714 460.8 247.414 462.1 244.414 462.1H220.714C218.514 462.1 216.814 461.5 215.614 460.3 214.614 459.1 214.114 457.5 214.114 455.5 214.314 452.3 215.614 448.4 218.014 443.8 220.614 439.2 224.414 434.8 229.414 430.6 234.614 426.2 241.314 422.5 249.514 419.5 257.714 416.5 267.614 415 279.214 415 291.814 415 302.414 416.6 311.014 419.8 319.814 422.8 326.814 426.9 332.014 432.1 337.214 437.3 341.014 443.4 343.414 450.4 345.814 457.4 347.014 464.8 347.014 472.6V566.8C347.014 568.8 346.314 570.5 344.914 571.9 343.514 573.3 341.814 574 339.814 574H315.514C313.314 574 311.514 573.3 310.114 571.9 308.914 570.5 308.314 568.8 308.314 566.8V555.1C305.714 558.7 302.214 562.2 297.814 565.6 293.414 569 288.014 571.8 281.614 574 275.414 576 268.014 577 259.414 577Z',
  'M269.614 548.5C276.614 548.5 282.914 547 288.514 544 294.314 541 298.814 536.4 302.014 530.2 305.414 523.8 307.114 515.8 307.114 506.2V499.9L277.114 504.7C265.314 506.5 256.514 509.4 250.714 513.4 244.914 517.4 242.014 522.3 242.014 528.1 242.014 532.5 243.314 536.3 245.914 539.5 248.714 542.5 252.214 544.8 256.414 546.4 260.614 547.8 265.014 548.5 269.614 548.5Z',
  'M454.536 574C442.536 574 432.436 571.9 424.236 567.7 416.036 563.5 409.936 557.3 405.936 549.1 401.936 540.7 399.936 530.3 399.936 517.9V449.8H376.236C374.236 449.8 372.536 449.1 371.136 447.7 369.736 446.3 369.036 444.5 369.036 442.3V425.2C369.036 423.2 369.736 421.5 371.136 420.1 372.536 418.7 374.236 418 376.236 418H399.936V368.2C399.936 366.2 400.536 364.5 401.736 363.1 403.136 361.7 404.936 361 407.136 361H431.436C433.436 361 435.136 361.7 436.536 363.1 437.936 364.5 438.636 366.2 438.636 368.2V418H476.136C478.136 418 479.836 418.7 481.236 420.1 482.636 421.5 483.336 423.2 483.336 425.2V442.3C483.336 444.5 482.636 446.3 481.236 447.7 479.836 449.1 478.136 449.8 476.136 449.8H438.636V514.9C438.636 523.1 440.036 529.5 442.836 534.1 445.836 538.7 450.936 541 458.136 541H478.836C480.836 541 482.536 541.7 483.936 543.1 485.336 544.5 486.036 546.2 486.036 548.2V566.8C486.036 568.8 485.336 570.5 483.936 571.9 482.536 573.3 480.836 574 478.836 574H454.536Z',
  'M519.849 574C517.849 574 516.15 573.3 514.75 571.9 513.35 570.5 512.65 568.8 512.65 566.8V425.2C512.65 423.2 513.35 421.5 514.75 420.1 516.15 418.7 517.849 418 519.849 418H544.75C546.95 418 548.649 418.7 549.849 420.1 551.249 421.5 551.95 423.2 551.95 425.2V566.8C551.95 568.8 551.249 570.5 549.849 571.9 548.649 573.3 546.95 574 544.75 574H519.849Z',
  'M518.65 392.2C516.65 392.2 514.949 391.5 513.549 390.1 512.149 388.7 511.45 387 511.45 385V363.4C511.45 361.4 512.149 359.7 513.549 358.3 514.949 356.9 516.65 356.2 518.65 356.2H545.95C548.15 356.2 549.949 356.9 551.349 358.3 552.749 359.7 553.45 361.4 553.45 363.4V385C553.45 387 552.749 388.7 551.349 390.1 549.949 391.5 548.15 392.2 545.95 392.2H518.65Z',
  'M646.951 574C643.751 574 641.351 573.3 639.751 571.9 638.351 570.3 637.151 568.5 636.151 566.5L580.051 427.3C579.651 426.3 579.451 425.4 579.451 424.6 579.451 422.8 580.051 421.3 581.251 420.1 582.651 418.7 584.251 418 586.051 418H610.351C612.751 418 614.551 418.7 615.751 420.1 616.951 421.3 617.751 422.5 618.151 423.7L658.051 529 697.951 423.7C698.351 422.5 699.151 421.3 700.351 420.1 701.551 418.7 703.351 418 705.751 418H730.351C731.951 418 733.351 418.7 734.551 420.1 735.951 421.3 736.651 422.8 736.651 424.6 736.651 425.4 736.551 426.3 736.351 427.3L679.951 566.5C679.151 568.5 677.951 570.3 676.351 571.9 674.751 573.3 672.351 574 669.151 574H646.951Z',
  'M825.65 577C803.45 577 785.85 570.6 772.85 557.8 759.85 545 752.85 526.8 751.85 503.2 751.65 501.2 751.55 498.7 751.55 495.7 751.55 492.5 751.65 490 751.85 488.2 752.65 473 756.05 460 762.05 449.2 768.25 438.2 776.75 429.8 787.55 424 798.35 418 811.05 415 825.65 415 841.85 415 855.45 418.4 866.45 425.2 877.45 431.8 885.75 441.1 891.35 453.1 896.95 464.9 899.75 478.6 899.75 494.2V500.5C899.75 502.5 899.05 504.2 897.65 505.6 896.25 507 894.45 507.7 892.25 507.7H792.65C792.65 507.7 792.65 508 792.65 508.6 792.65 509.2 792.65 509.7 792.65 510.1 792.85 517.1 794.15 523.6 796.55 529.6 799.15 535.4 802.85 540.1 807.65 543.7 812.65 547.3 818.55 549.1 825.35 549.1 830.95 549.1 835.65 548.3 839.45 546.7 843.25 544.9 846.35 542.9 848.75 540.7 851.15 538.5 852.85 536.7 853.85 535.3 855.65 532.9 857.05 531.5 858.05 531.1 859.25 530.5 860.95 530.2 863.15 530.2H888.95C890.95 530.2 892.55 530.8 893.75 532 895.15 533.2 895.75 534.7 895.55 536.5 895.35 539.7 893.65 543.6 890.45 548.2 887.45 552.8 883.05 557.3 877.25 561.7 871.45 566.1 864.15 569.8 855.35 572.8 846.75 575.6 836.85 577 825.65 577Z',
  'M792.65 482.5H858.95V481.6C858.95 473.8 857.65 467 855.05 461.2 852.45 455.2 848.65 450.6 843.65 447.4 838.65 444 832.65 442.3 825.65 442.3 818.65 442.3 812.65 444 807.65 447.4 802.65 450.6 798.85 455.2 796.25 461.2 793.85 467 792.65 473.8 792.65 481.6V482.5Z',
];

const MARGIN = 10;
const vWidth = 895 + MARGIN;
const vHeight = 572 + MARGIN;
const width = Dimensions.get('window').width - 64;
const height = (width * vHeight) / vWidth;

export default function StrokeAnimation() {
  const progress = useSharedValue(0);

  useEffect(() => {
    progress.value = withTiming(1, { duration: 4000, easing: Easing.linear });
  }, [progress]);

  return (
    <View style={styles.layer}>
      <Svg
        width={width}
        height={height}
        viewBox={[
          -MARGIN / 2,
          -MARGIN / 2,
          vWidth + MARGIN / 2,
          vHeight + MARGIN / 2,
        ].join(' ')}
      >
        {paths.map((d, key) => (
          <AnimatedStroke progress={progress} d={d} key={key} />
        ))}
      </Svg>
    </View>
  );
}

const styles = StyleSheet.create({
  layer: {
    flex: 1,
    alignItems: 'center',
    justifyContent: 'center',
  },
});
